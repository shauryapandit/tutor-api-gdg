# FastAPI Financial Quiz API

## Overview
This FastAPI-based application provides an interactive financial education quiz. Users select a difficulty level, and the system dynamically generates relevant financial questions using a dataset or Gemini AI. User responses are evaluated, and progress is tracked using Firebase Firestore.

## Features
- **Dynamic Question Generation:** Questions are either retrieved from a CSV dataset or generated by Gemini AI based on difficulty level.
- **User Progress Tracking:** Quiz history is stored in Firebase Firestore.
- **AI-based Answer Evaluation:** User responses are evaluated with feedback from Gemini AI.
- **Difficulty Levels:** Beginner, Intermediate, and Advanced levels available.

## Setup Instructions
### Prerequisites
- Python 3.8+
- Firebase Firestore setup
- Gemini API key
- Required dependencies

### Installation
1. Clone the repository:
   ```sh
   git clone <repo-url>
   cd <repo-directory>
   ```
2. Install dependencies:
   ```sh
   pip install -r requirements.txt
   ```
3. Set up environment variables in `.env` file:
   ```sh
   GEMINI_API_KEY=<your_gemini_api_key>
   ```
4. Place Firebase credentials (`serviceAccountKey.json`) in the root directory.
5. Ensure the CSV file (`finance_topics_full.csv`) is present in the root directory.

### Running the API
Start the FastAPI server:
```sh
uvicorn main:app --host 0.0.0.0 --port 8000
```

## API Endpoints
### Start Quiz
**Endpoint:** `POST /start`
- **Request Body:**
  ```json
  {
    "userId": "user123",
    "level": "Beginner"
  }
  ```
- **Response:**
  ```json
  {
    "message": "Welcome! Here's your first question: What is a mutual fund?"
  }
  ```

### Submit Answer
**Endpoint:** `POST /answer`
- **Request Body:**
  ```json
  {
    "userId": "user123",
    "answer": "A mutual fund is an investment vehicle..."
  }
  ```
- **Response:**
  ```json
  {
    "evaluation": "Correct! A mutual fund is a pooled investment fund...",
    "nextQuestion": "What is an ETF?"
  }
  ```

### Get Progress
**Endpoint:** `GET /progress/{userId}`
- **Response:**
  ```json
  {
    "history": [
      {
        "question": "What is a mutual fund?",
        "userAnswer": "A mutual fund is an investment vehicle...",
        "evaluation": "Correct! A mutual fund is a pooled investment fund..."
      }
    ]
  }
  ```

## Technologies Used
- **FastAPI** for API development
- **Firebase Firestore** for session tracking
- **Google Gemini AI** for question generation and evaluation
- **Pandas** for CSV handling
- **Uvicorn** for ASGI server

## License
This project is licensed under the MIT License.

## Contributions
Contributions are welcome! Feel free to open issues and pull requests.

